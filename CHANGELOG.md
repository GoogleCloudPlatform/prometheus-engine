# Changelog

## [0.12.0-rc.1](https://github.com/GoogleCloudPlatform/prometheus-engine/compare/v0.11.0-rc.1...v0.12.0-rc.1) (2024-06-20)


### Features

* add go-synthetic (example-app) yaml for auth example ([a357487](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/a357487733821d009b0980fc111d875e5a48853c))
* configurable vpa ([0c90ff6](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/0c90ff6c374e3b6668204b6397dc14049d20a7ce))
* export write example ([41115f5](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/41115f54a68e6816dc1420cdac89bd449e2a2497))
* **export:** allow GMP collectors to startup without metadata ([94bb110](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/94bb1101a853d194ecbb93bfd22ed58ffde48cc1))
* implement secret management for authorization ([d79f537](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/d79f5371c6199d86cd9609332c8959340ed10854))
* Made config-reloader resilient to initial readiness server unavailability (5s default timeout). ([#946](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/946)) ([bf309c9](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/bf309c9339cdd6572f33c00b650b0939a6cd541e))
* make config-reloader resilient to initial rdness srv unavailability ([8fe5692](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/8fe56928be47fc4f15a4b3e8d5166206663eaf70))
* **operator:** add healthz and readyz to operator ([b676c6f](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/b676c6ff3bc00f6ea19ff9425f137485b5533b5a))
* **operator:** add OperatorConfig compression settings for *Rules CRs. ([981fbc4](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/981fbc46f3b6e8114692c960b1502611441450c8))
* populate rules status ([f21c2ba](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/f21c2ba4c0a9c3108209c1e59ec75d52e388235e))
* **prometheus:** add secret management to export library ([e1106d1](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/e1106d11fc4d21dc8e73ede497da3e6201dc5a2e))
* **rule-evaluator:** add runtime status endpoint ([afd32e4](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/afd32e4b88dd45d209a08add8adca4031e7a20d7))
* **rule-evaluator:** add runtime status endpoint ([#891](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/891)) ([94fb052](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/94fb05225f30460a1d2662b1fc757cf9531984e7))
* support decompressing config directories in config-reloader ([3c8e384](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/3c8e38417644df7126cd89e8431a73ad5ac39826))
* update common library for secret management ([66df62a](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/66df62ac4f64ad126719f0d0d496024fa02b7630))
* update manifests with new prom image and delete flag ([6556940](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/6556940f1351eaf367056cd7a4f5c16d2b844c3a))


### Bug Fixes

* allow datasource-syncer to run on arm64 nodes ([011e83c](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/011e83cb2906d65428da1f9678f50f3cfd801875))
* allow datasource-syncer to run on arm64 nodes ([e579de7](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/e579de7a275f8eba0db6e751ba61c14c7e7a4c63))
* clean code for consistent selector; add validation. ([#783](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/783)) ([99444af](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/99444afa29b50fb6da764f95c7ffa6bdeab9233a))
* cleanup security validation warnings ([f7d0058](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/f7d0058a84da7b95b245f50c2619703ad5ca8062))
* cleanup security validation warnings ([#944](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/944)) ([46e779e](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/46e779eced08174c4fae0a271c2afce6b712fc62))
* configurable vpa ([f17b904](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/f17b904f24f332e19f5036012421654625046533))
* default secret namespace for cluster-scoped resources ([dd52a8a](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/dd52a8ab7c66fc18c798869be79562e6c413260f))
* **deps:** bump docker from 25.0-cli to 26.0-cli in /hack ([7434206](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/743420662dc1ef4f1c5d5d5b01a8676469226c6f))
* **deps:** bump docker from 26.0-cli to 26.1-cli in /hack ([775bdde](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/775bddea885445eb3fce0ab8a4373ab7f67a605b))
* **deps:** bump golang from 1.22.1 to 1.22.2 in /cmd/config-reloader ([30b2b15](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/30b2b1512f89a52857bc1455e6a3d30f9b4ffc3d))
* **deps:** bump golang from 1.22.1 to 1.22.2 in /cmd/operator ([870d933](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/870d9332c24b49fa47f8c2d660edd457036ec3a1))
* **deps:** bump golang from 1.22.1 to 1.22.2 in /cmd/rule-evaluator ([1dbab96](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/1dbab965e5914b2952caeb67b9b2a49e647f47cf))
* **deps:** bump golang from 1.22.2 to 1.22.3 in /cmd/config-reloader ([fd095c1](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/fd095c13539d9ebd08e2dba51704e205c111b8bd))
* **deps:** bump golang from 1.22.2 to 1.22.3 in /cmd/config-reloader ([#968](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/968)) ([6fd3300](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/6fd3300d9bca5dbec0f8197405c53b05184ee988))
* **deps:** bump golang from 1.22.2 to 1.22.3 in /cmd/operator ([9b82556](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/9b8255691e8082f8a3e2cdf617269981d9d05d03))
* **deps:** bump golang from 1.22.2 to 1.22.3 in /cmd/rule-evaluator ([535561c](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/535561c088dacff78bab2ab61905f56a61ce6e98))
* **deps:** bump golang from 1.22.2 to 1.22.3 in /cmd/rule-evaluator ([#969](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/969)) ([d17a61c](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/d17a61c6ff4723976e9e0b740b27cf4d97ba3c44))
* **deps:** bump golang from 1.22.3 to 1.22.4 in /cmd/config-reloader ([db0166f](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/db0166f186af719cdea9d07f35e27c43b7fb8635))
* **deps:** bump golang from 1.22.3 to 1.22.4 in /cmd/config-reloader ([#1014](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/1014)) ([494e1a7](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/494e1a783d45134a631a1bf024149125938c6161))
* **deps:** bump golang from 1.22.3 to 1.22.4 in /cmd/operator ([be9f40c](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/be9f40c73808f298ead513b7591f9aeebce94628))
* **deps:** bump golang from 1.22.3 to 1.22.4 in /cmd/operator ([#1019](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/1019)) ([e10de63](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/e10de63600838779fb0076862fc078a835903804))
* **deps:** bump golang from 1.22.3 to 1.22.4 in /cmd/rule-evaluator ([bf2e233](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/bf2e233829e2af4927096e55407db04318f4aa03))
* **deps:** bump golang from 1.22.3 to 1.22.4 in /cmd/rule-evaluator ([#1017](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/1017)) ([e791723](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/e791723a21e141367c2cfb7900a9ba4d68267fae))
* **deps:** bump golang from 1.22.3-bullseye to 1.22.4-bullseye in /cmd/frontend ([#1015](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/1015)) ([3abba39](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/3abba394425e713de835f8880b81c367dfddc082))
* **deps:** bump golang from 1.22.3-bullseye to 1.22.4-bullseye in /hack ([eacc640](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/eacc6409ed43234e262f3887ed2d8ab654c56542))
* **deps:** bump golang from 1.22.3-bullseye to 1.22.4-bullseye in /hack ([#1018](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/1018)) ([dae4528](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/dae4528862cb3a77e384ca0f473fbda310156ed8))
* **deps:** bump golang in /cmd/frontend ([41601b6](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/41601b66747ba997163507ed2386f3a05b86a9e4))
* **deps:** bump golang.org/x/net from 0.21.0 to 0.23.0 ([dcc7e5c](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/dcc7e5c4434b6b4402efdba5a79702dce878e879))
* **deps:** bump google.golang.org/protobuf from 1.32.0 to 1.33.0 ([a4a4d32](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/a4a4d322bc6c6d408f74b2bf95d6baf440c28013))
* **deps:** bump k8s.io/api from 0.29.3 to 0.30.0 ([9e36588](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/9e3658884b95580510c17f863bef44f798e843b6))
* **deps:** bump k8s.io/apiextensions-apiserver from 0.29.1 to 0.29.3 ([297e6ac](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/297e6ac27b590812e21010f53de4339920ceeaa9))
* **deps:** bump k8s.io/apimachinery from 0.29.3 to 0.30.1 ([1ed07b2](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/1ed07b24adf37c8d2bd008d0b92848f1999e66c5))
* **deps:** bump k8s.io/client-go from 0.29.1 to 0.29.3 ([8b66373](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/8b663730045cd800ba56d63b13f443cc8b1ef433))
* **deps:** bump k8s.io/code-generator from 0.29.1 to 0.29.2 ([9ac2649](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/9ac26499c2f720ceee01966178d03038d28d2ed9))
* **deps:** bump sigs.k8s.io/controller-runtime from 0.16.3 to 0.17.2 ([c1c5ba7](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/c1c5ba7d520e8bf92e8d837b0e7da3020d5d393f))
* **deps:** bump sigs.k8s.io/controller-runtime from 0.17.2 to 0.17.3 ([0377f44](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/0377f444edd3796e72696f4033d802bf62f12187))
* **e2e:** reduce e2e flakiness when a deployment pod restarts ([b390b6f](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/b390b6f5b762fa19a249d4a3ad0e64afca9f7076))
* **e2e:** reduce e2e flakiness when a deployment pod restarts ([cb1a4bf](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/cb1a4bf5ca88d0d1dc6304503d59980550cfc2b7))
* **e2e:** reduce e2e flakiness when a deployment pod restarts ([#989](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/989)) ([a4426a3](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/a4426a3c626af67b1bf561a68d3e865c56f3e83a))
* **e2e:** start rule-evaluator without auth in e2e tests ([67da42b](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/67da42bcc4e8bf4e8bb6da9438341cf4e2290cb7))
* ensure status is added to crds ([8515401](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/8515401dcf4d47323f733b63bc68e52f03b9465b))
* **export:** add support in onGCE + no conn to metadata case ([e02408c](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/e02408cf56ecce7a949b425245d133ced42635c9))
* **export:** add support in onGCE + no conn to metadata case ([#1021](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/1021)) ([054f28c](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/054f28c6f37974422042c0ca8e4af1f6e1dcad33))
* fix config reloader panics if the response is nil ([08dc997](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/08dc9971057ba943199f83337be5d81b787a1331))
* make sure tests are not failing on cloudtop ([a1ed6ac](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/a1ed6ac4c30344176fcebacf20f15a9503d85af7))
* make sure tests are not failing on cloudtop ([#1025](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/1025)) ([1df4974](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/1df497418e1e5d5573844b2ee0a5183cc4919317))
* **operator:** add duplicate job name validation within PM, CPM and CNM ([0413831](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/0413831bdc78976d29be2ad01d792b6f7533f94e))
* **operator:** add duplicate job name validation within PM, CPM and CNM ([#912](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/912)) ([82a84f9](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/82a84f9607595c01e8362f4032fa234b3c27a7b5))
* **operator:** support secrets outside default ns for scrape auth ([276ccdc](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/276ccdc5ccebd706370a069c089f71ff81b174dc))
* **operator:** support StringData for secret selectors ([b93e68a](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/b93e68a9f35211f89332a30de28f61185b0e3989))
* **operator:** support StringData for secret selectors ([#930](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/930)) ([4e0758f](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/4e0758fd6b4df94850a2a76d8b0ef026a78f941c))
* remove unused import ([cf4c74e](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/cf4c74e6b577c7f483ea5e15ca526ee3f9acca3e))
* rename kubernetesSecret to secret ([6576bb1](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/6576bb1165f23014621b24163ab88e68d28c8aea))
* replace nodemonitoring with clusternodemonitoring ([2177a0e](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/2177a0ec93feefd0c5b0de9935e69ad3eb2a614e))
* retry watch forbidden secrets ([cea558f](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/cea558fdc9cfea523d47d7677539089e66d0990f))
* skip delete legacy webhook if we have no permissions ([75bf155](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/75bf1559cb82f423ede2ac98eec11a7353a339ca))
* Tested on cluster delete-me-ksm-test in lees-gmp ([1a4becc](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/1a4becce96623e58156a6ce899f70a203d25a140))
* Update kube-state-metrics.yaml to 2.12.0 ([#997](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/997)) ([1a4becc](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/1a4becce96623e58156a6ce899f70a203d25a140))
* update pkg/operator/apis/monitoring/v1/operator_types.go ([e15078e](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/e15078ebbe4cb2060a1977702942b5217be57122))
* update pkg/operator/apis/monitoring/v1/operator_types.go ([17e3603](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/17e3603cb6e01316689f4dafff16a3bafc21296a))
* update pkg/operator/apis/monitoring/v1/operator_types.go ([fe7f2a1](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/fe7f2a12d8191af2bf550dae4e80eef511f85cfb))
* update pkg/operator/apis/monitoring/v1/operator_types.go ([8fd4c5f](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/8fd4c5fbce3da1a225e40b61f146b380ae20f91d))
* use clusterpodmonitoring for nvidia-dcgm ([101ae24](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/101ae242c02f2d0200ee81dbf2992ca2dde9862b))
* use default shard count in export ([e501734](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/e501734d2b1b62d808db784b55de7429c8201c9c))
* Use default shard count in export ([#991](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/991)) ([5092f5b](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/5092f5bcc5ea179f64de30b35c5bd84d16600885))
* Use upstream go image for build ([6cf4d2e](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/6cf4d2eb4cb381db0e38bb9c94496c6c8a24f671))

## [0.11.0-rc.1](https://github.com/GoogleCloudPlatform/prometheus-engine/compare/v0.10.0-rc.1...v0.11.0-rc.1) (2024-02-16)


### Features

* add secretless OAuth 2 support ([8194baa](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/8194baae3e30dcec6b88d66ae2cc361dcb33aeef))


### Bug Fixes

* **deps:** bump golang in /cmd/frontend ([ff3902a](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/ff3902aeddb41eab6ac36bc58bb577118dd0a56d))
* **deps:** bump golang in /cmd/operator ([ffc436b](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/ffc436b184ea7bc70ab3a4b73d8af437ffaddc90))
* **deps:** bump golang in /cmd/rule-evaluator ([9977fc2](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/9977fc2f5af68db164c559d45f1f17d6ea844235))
* **deps:** bump golang in /hack ([05e53de](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/05e53de9ceae91df95f28ed1d1912f2458f1f98a))
* **deps:** bump the go-deps group with 5 updates ([9fb575e](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/9fb575e2b0a7709194bd41a8934987d7bce3f489))
* **deps:** update k8s.io dependencies ([110c4fb](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/110c4fb3ed9bf5a692f747a3dd6ecd44b1931e20))
* limit size of kind cluster names ([3c74e4a](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/3c74e4a0c39c412c8871bb61a74b2a071c5437a2))
* make NodeMonitoring cluster-scoped ([e271548](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/e2715488d72b2733b73735db76c2aa0d091e7f14))
* match exact test on e2e test matrix ([982a814](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/982a8144b8e048b0545c0f8be801c230c0a14433))
* remove replica count for rule-evaluator ([2801179](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/2801179640b9410405290829bd3822672855a513))
* resolve enabling NodeMonitoring breaks target status ([a9cf882](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/a9cf8826042147b5f04a0edd649d67c986f85fb4))
* update self-pod-monitoring.yaml example to reduce ingestion of self-scraped metrics. ([#794](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/794)) ([686fc10](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/686fc100079d5f9c9b89fba04b6c9b38986eb938))
* use operator namespace to check if a NodeMonitoring should be applied ([#797](https://github.com/GoogleCloudPlatform/prometheus-engine/issues/797)) ([bcafc67](https://github.com/GoogleCloudPlatform/prometheus-engine/commit/bcafc67fad3de0b777d11b6d02678ae84ca56122))
